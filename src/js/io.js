gm.io=function(){"use strict";function e(e){for(var r=0,t=e.length;r<t;r++)if("string"==typeof e[r])return r;return-1}function r(e){if(e.indexOf("..")>-1)throw new Error("Not allowed to back out of directories");return e.replace(/^\//,"").replace(/^USB\/+/,"USB://")}function t(t,n){return function(o,l){var c,u=i.call(arguments),a=e(u);n&&(c=u[u.length-1].overwrite,"number"==typeof c&&(u=u.concat([c,u.pop()])));try{u[a]=r(u[a])}catch(e){return"function"==typeof l?l(12):12}return gm.filesystem[t].apply(gm.filesystem,u)}}var i=Array.prototype.slice,n={OVERWRITE:0,APPEND:1,FAIL:2};return{constants:n,writeFile:t("writeFile",!0),readFile:t("readFile"),deleteFile:t("deleteFile"),writeBinaryFile:t("writeBinaryFile"),getResource:t("getResource")}}();